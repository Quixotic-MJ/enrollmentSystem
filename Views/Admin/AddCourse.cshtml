@{
    Layout = null;
    ViewBag.Title = "Add New Program Course - Enrollment System";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-gray-50 min-h-screen">

<div class="container mx-auto px-4 py-8 flex-grow">
    <h1 class="text-3xl font-bold mb-4">Add New Program Course</h1>
    <p class="text-lg text-gray-700 mb-6">Fill in the details below to add a new course to a program.</p>

    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
        <form id="addCourseForm" method="post" data-ajax-url="@Url.Action("AddCourseAjax", "AddProgram")"
              class="space-y-4">
            <div id="formMessage"></div>

            <!-- Course Category -->
            <div>
                <label for="courseCategory" class="block text-sm font-medium text-gray-700 mb-1">Course
                    Category:</label>
                <select
                    class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                    id="courseCategory" name="Ctg_Code" required>
                    <option value="" selected disabled>Select Category...</option>
                    @* @foreach (var category in ViewBag.CourseCategories as List<enrollmentSystem.Models.CourseCategory>) *@
                    @* { *@
                    @*     <option value="@category.Ctg_Code">@category.Ctg_Name</option> *@
                    @* } *@
                </select>
            </div>

            <!-- Course Code -->
            <div>
                <label for="courseCode" class="block text-sm font-medium text-gray-700 mb-1">Course Code:</label>
                <div class="flex">
                    <span
                        class="inline-flex items-center px-3 py-2 border border-r-0 border-gray-300 bg-gray-100 text-gray-500 rounded-l-md"
                        id="courseCodePrefix">
                        [Select Category]
                    </span>
                    <input type="text"
                           class="flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                           id="courseCode" name="Crs_Code" placeholder="e.g., 101" required>
                </div>
                <p class="mt-1 text-sm text-gray-500">Full course code will be: <span id="fullCourseCodePreview"
                                                                                      class="font-medium">[Category][Your Input]</span>
                </p>
            </div>

            <!-- Descriptive Title -->
            <div>
                <label for="descriptiveTitle" class="block text-sm font-medium text-gray-700 mb-1">Descriptive
                    Title:</label>
                <input type="text"
                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                       id="descriptiveTitle" name="Crs_Title" placeholder="e.g., Introduction to Computing" required>
            </div>

            <!-- Prerequisite - Changed to multiple select -->
            <div>
                <label for="prerequisite"
                       class="block text-sm font-medium text-gray-700 mb-1">Co-/Prerequisites:</label>
                <select
                    class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                    id="prerequisite" name="Preq_Crs_Code" multiple="multiple">
                    @* @foreach (var course in ViewBag.CoursesForPrereq as List<enrollmentSystem.Models.Course>) *@
                    @* { *@
                    @*     <option value="@course.Crs_Code">@course.Crs_Code - @course.Crs_Title</option> *@
                    @* } *@
                </select>
                <p class="mt-1 text-sm text-gray-500">Hold Ctrl/Cmd to select multiple or use the search box</p>
            </div>

            <!-- Units -->
            <div>
                <label for="numberOfUnits" class="block text-sm font-medium text-gray-700 mb-1">No. of Units:</label>
                <input type="number"
                       class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                       id="numberOfUnits" name="Crs_Units" min="1" max="6" value="3" required>
            </div>

            <!-- Lecture & Lab Units -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="lecUnits" class="block text-sm font-medium text-gray-700 mb-1">Lecture Units:</label>
                    <input type="number"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                           id="lecUnits" name="Crs_Lec" min="0" value="2" required>
                </div>
                <div>
                    <label for="labUnits" class="block text-sm font-medium text-gray-700 mb-1">Laboratory Units:</label>
                    <input type="number"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                           id="labUnits" name="Crs_Lab" min="0" value="1" required>
                </div>
            </div>

            <!-- Buttons -->
            <div class="flex space-x-3 pt-4">
                <button type="submit"
                        class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                    Add Course
                </button>
                <button type="button" onclick="history.back()"
                        class="px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2">
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>

</body>
</html>